<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ADR Soft - Login y Panel</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(180deg, #1f2937 0%, #374151 100%);
    color: #f0f0f0;
    overflow-x: hidden;
  }

  /* Fondo */
  body {
    background-image:
      linear-gradient(rgba(15,23,42,0.8), rgba(15,23,42,0.8)),
      url('Fondo.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
  }

  /* Contenedor principal */
  #app {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Login */
  #login {
    background: rgba(30, 41, 59, 0.9);
    border-radius: 12px;
    padding: 40px 32px 32px;
    width: 320px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6);
    text-align: center;
    position: relative;
  }

  #login img.logo {
    width: 120px;
    margin-bottom: 24px;
    user-select: none;
  }

  #login h2 {
    margin-bottom: 24px;
    font-weight: 700;
    font-size: 24px;
    color: #E0E7FF;
  }

  #login input[type="text"],
  #login input[type="password"] {
    width: 100%;
    padding: 12px 40px 12px 12px;
    margin-bottom: 20px;
    border-radius: 6px;
    border: none;
    background: #1E293B;
    color: #f0f0f0;
    font-size: 16px;
    box-sizing: border-box;
    position: relative;
  }
  #login input::placeholder {
    color: #94A3B8;
  }

  .password-container {
    position: relative;
  }

  /* Ojo - ícono para mostrar/ocultar */
  .toggle-password {
    position: absolute;
    top: 50%;
    right: 12px;
    transform: translateY(-50%);
    width: 24px;
    height: 24px;
    cursor: pointer;
    fill: #94A3B8;
    transition: fill 0.3s ease;
  }
  .toggle-password:hover {
    fill: #A5B4FC;
  }

  #login button {
    width: 100%;
    padding: 14px;
    font-weight: 700;
    font-size: 16px;
    background: #4F46E5;
    border: none;
    border-radius: 8px;
    color: #E0E7FF;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  #login button:hover {
    background: #4338CA;
  }

  /* Panel de aplicación */
  #appPanel {
    display: none;
    height: 100vh;
    overflow: hidden;
  }

  /* Contenedor con menú y contenido */
  .container {
    display: flex;
    height: 100vh;
  }

  /* Menú desplegable lateral */
  nav {
    width: 260px;
    background: rgba(30, 41, 59, 0.95);
    color: #E0E7FF;
    box-shadow: 2px 0 8px rgba(0,0,0,0.4);
    overflow-y: auto;
    transition: transform 0.3s ease;
    position: relative;
    z-index: 10;
  }

  nav.hidden {
    transform: translateX(-100%);
  }

  nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  nav ul li {
    border-bottom: 1px solid #334155;
  }

  nav ul li button {
    background: transparent;
    border: none;
    width: 100%;
    text-align: left;
    padding: 14px 24px;
    font-size: 16px;
    color: #E0E7FF;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  nav ul li button:hover {
    background: rgba(79, 70, 229, 0.2);
  }

  /* Cerrar sesión destacado */
  nav ul li.logout button {
    color: #F87171;
    font-weight: 700;
    background: rgba(248, 113, 113, 0.15);
  }
  nav ul li.logout button:hover {
    background: rgba(248, 113, 113, 0.3);
  }

  /* Contenido principal */
  main.content {
    flex-grow: 1;
    background: rgba(15, 23, 42, 0.85);
    padding: 24px;
    overflow-y: auto;
    color: #F0F4FF;
    font-size: 18px;
    line-height: 1.5;
  }

  /* Botón para abrir/cerrar menú */
  #menuToggleBtn {
    position: fixed;
    top: 14px;
    left: 14px;
    background: rgba(79, 70, 229, 0.9);
    border: none;
    border-radius: 8px;
    padding: 10px;
    cursor: pointer;
    z-index: 100;
    display: none; /* se mostrará en móvil */
  }
  #menuToggleBtn svg {
    fill: #E0E7FF;
    width: 24px;
    height: 24px;
  }

  /* Responsive */
  @media (max-width: 900px) {
    nav {
      position: fixed;
      top: 0; left: 0; bottom: 0;
      height: 100vh;
      z-index: 50;
      transform: translateX(-100%);
      width: 240px;
    }
    nav.visible {
      transform: translateX(0);
    }
    #menuToggleBtn {
      display: block;
    }
    main.content {
      padding: 72px 16px 16px;
    }
  }
</style>
</head>
<body>
<div id="app">
  <!-- Login -->
  <section id="login">
    <img src="adrlogo.png" alt="Logo ADR" class="logo" />
    <h2>Login</h2>
    <input id="username" type="text" placeholder="Usuario" autocomplete="username" />
    <div class="password-container">
      <input id="password" type="password" placeholder="Contraseña" autocomplete="current-password" />
      <svg id="togglePassword" class="toggle-password" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-label="Mostrar contraseña" role="img">
        <path d="M12 4.5C7.305 4.5 3.235 7.377 1.5 12c1.735 4.623 5.805 7.5 10.5 7.5s8.765-2.877 10.5-7.5c-1.735-4.623-5.805-7.5-10.5-7.5zm0 13a5.5 5.5 0 1 1 0-11 5.5 5.5 0 0 1 0 11z"/>
        <circle cx="12" cy="12" r="2.5"/>
      </svg>
    </div>
    <button id="loginBtn">Iniciar sesión</button>
  </section>

  <!-- Panel principal -->
  <section id="appPanel" style="display:none;">
    <button id="menuToggleBtn" aria-label="Toggle menu" title="Abrir/cerrar menú">
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <path d="M3 6h18M3 12h18M3 18h18" stroke="#E0E7FF" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
    <div class="container">
      <nav id="sideMenu" class="hidden" aria-label="Menú principal">
        <ul>
          <li><button class="menu-item" data-section="Tablero">Tablero</button></li>
          <li><button class="menu-item" data-section="GIS">GIS</button></li>
          <li><button class="menu-item" data-section="Mapa GIS">Mapa GIS</button></li>
          <li><button class="menu-item" data-section="Visor">Visor</button></li>
          <li><button class="menu-item" data-section="Fast Viewer">Fast Viewer</button></li>
          <li><button class="menu-item" data-section="Estaciones">Estaciones</button></li>
          <li><button class="menu-item" data-section="Monitoring">Monitoring</button></li>
          <li><button class="menu-item" data-section="Informe personalizado">Informe personalizado</button></li>
          <li><button class="menu-item" data-section="Informe rosa de los vientos">Informe rosa de los vientos</button></li>
          <li><button class="menu-item" data-section="Consecutive Rains">Consecutive Rains</button></li>
          <li><button class="menu-item" data-section="Vistas">Vistas</button></li>
          <li><button class="menu-item" data-section="Sinópticos">Sinópticos</button></li>
          <li><button class="menu-item" data-section="Custom Synoptics">Custom Synoptics</button></li>
          <li><button class="menu-item" data-section="Supervisor">Supervisor</button></li>
          <li><button class="menu-item" data-section="Estadísticas de red">Estadísticas de red</button></li>
          <li><button class="menu-item" data-section="Registros">Registros</button></li>
          <li><button class="menu-item" data-section="Módulos">Módulos</button></li>
          <li><button class="menu-item" data-section="Túnel">Túnel</button></li>
          <li><button class="menu-item" data-section="Validador">Validador</button></li>
          <li class="logout"><button id="logoutBtn">Cerrar sesión</button></li>
        </ul>
      </nav>
      <main id="mainContent" class="content" tabindex="0" aria-live="polite">
        <h1>Bienvenido</h1>
        <p>Selecciona una sección del menú para comenzar.</p>
      </main>
    </div>
  </section>
</div>

<script>
  // Mostrar/ocultar contraseña
  const passwordInput = document.getElementById('password');
  const togglePassword = document.getElementById('togglePassword');
  togglePassword.addEventListener('click', () => {
    const type = passwordInput.type === 'password' ? 'text' : 'password';
    passwordInput.type = type;
    togglePassword.setAttribute('aria-label', type === 'password' ? 'Mostrar contraseña' : 'Ocultar contraseña');
  });

  // Login
  const loginBtn = document.getElementById('loginBtn');
  const usernameInput = document.getElementById('username');
  const loginSection = document.getElementById('login');
  const appPanel = document.getElementById('appPanel');
  const sideMenu = document.getElementById('sideMenu');
  const menuToggleBtn = document.getElementById('menuToggleBtn');
  const mainContent = document.getElementById('mainContent');
  const logoutBtn = document.getElementById('logoutBtn');

  loginBtn.addEventListener('click', () => {
    const username = usernameInput.value.trim();
    const password = passwordInput.value.trim();

    if (username === 'admin' && password === '1234') {
      loginSection.style.display = 'none';
      appPanel.style.display = 'flex';
      sideMenu.classList.remove('hidden');
      mainContent.innerHTML = `<h1>Bienvenido, ${username}</h1><p>Selecciona una sección del menú para comenzar.</p>`;
      usernameInput.value = '';
      passwordInput.value = '';
    } else {
      alert('Usuario o contraseña incorrectos.');
    }
  });

  // Menú toggle botón
  menuToggleBtn.addEventListener('click', () => {
    sideMenu.classList.toggle('visible');
  });

  // Selección de sección menú: cambia contenido y cierra menú
  document.querySelectorAll('.menu-item').forEach(button => {
    button.addEventListener('click', () => {
      const section = button.getAttribute('data-section');
      mainContent.innerHTML = `
        <h1>${section}</h1>
        <p>Contenido y herramientas de la sección <strong>${section}</strong> aquí.</p>
      `;
      // Cerrar menú en móvil
      sideMenu.classList.remove('visible');
      // En desktop, si quieres ocultar menú al seleccionar, usar:
      if(window.innerWidth > 900){
        sideMenu.classList.add('hidden');
      }
      // Enfocar contenido
      mainContent.focus();
    });
  });

  // Cerrar sesión
  logoutBtn.addEventListener('click', () => {
    appPanel.style.display = 'none';
    loginSection.style.display = 'block';
    sideMenu.classList.add('hidden');
  });

  // En desktop, mostrar menú al pasar mouse sobre botón (opcional)
  // (Puedes activar si quieres)
</script>
</body>
</html>
